# MPI 
## Exercise 1

Ένα MPI πρόγραμμα (point-to-point communication), το οποίο, δοθέντος ενός διανύσματος *X* (μήκους *n* στοιχείων *xi | i=0…n-1*), 
υπολογίζει παράλληλα σε περιβάλλον ‘p’ επεξεργαστών και τυπώνει στην οθόνη τα ακόλουθα:  

**(α)** τη μέση τιμή (*μ*) των στοιχείων του διανύσματος *X*:  

`μ = (x0+x1+x2+…+xn-1) / n`

**(β)** τη μέγιστη τιμή (*m*) των στοιχείων του διανύσματος *X*:  

`για κάθε xi ισχύει ότι xi <= m και ∃ xi τέτοιο ώστε xi = m`

**(γ)** τη διασπορά** (*var*)** των στοιχείων του διανύσματος *X*: 

`var = ((x0 – μ)^2 + (x1 – μ)^2 +(x2 – μ)^2 + … + (xn-1 – μ)^2) / n`

**(δ)** ένα νέο διάνυσμα *Δ* (μήκους *n* στοιχείων *δi | i=0…n-1*)*,* του οποίου κάθε στοιχείο *δi* θα ισούται με τo τετράγωνο της απόλυτης τιμής της διαφοράς του αντίστοιχου στοιχείου (*xi*) του διανύσματος *Χ* από τη μέγιστη τιμή *m*: 

`δi = |xi – m|^2`

Το σύνολο του απαιτούμενου υπολογιστικού φόρτου θα πρέπει να ισοκατανεμηθεί στους ‘p’ επεξεργαστές του παράλληλου περιβάλλοντός. Επίσης, κάθε επεξεργαστής θα πρέπει να λαμβάνει (κατέχει) στην τοπική του  μνήμη  μόνο  τα  δεδομένα  εισόδου  που  χρησιμοποιεί  για  τοπικούς  (δικούς  του) υπολογισμούς. Τις τιμές/στοιχεία ‘n’, ‘xi’ θα πρέπει να τις δίνει ο χρήστης και να τις διαβάζει αντίστοιχα από την οθόνη ένας από τους ‘p’ επεξεργαστές του παράλληλου περιβάλλοντός σας (π.χ.  ο  επεξεργαστής  ‘0’  τον  οποίον  για  αυτό  το  λόγο  τον  θεωρούμε  ως  τον  ‘κεντρικό' επεξεργαστή του παράλληλου περιβάλλοντος). Τα αποτελέσματα του προγράμματός σας θα πρέπει επίσης να συγκεντρώνονται στο τέλος στον ‘κεντρικό’ αυτό επεξεργαστή και μέσω αυτού να παρουσιάζονται στο χρήστη. 

Αναπτύξτε τον κώδικά σας παραμετρικά ώστε να δουλεύει σωστά για οποιονδήποτε αριθμό πολλαπλών επεξεργαστών ‘p’, θεωρώντας ότι το ‘n’ είναι ακέραιο πολλαπλάσιο του ‘p’. Θα πρέπει επίσης το πρόγραμμά σας να δουλεύει :

**(α)** με menu επιλογών (π.χ. 1. Συνέχεια – 2. Έξοδος) 

**(β)** επαναληπτικά (δηλαδή να εμφανίζει επαναληπτικά το παραπάνω menu μέχρι να επιλέξει ο χρήστης την επιλογή ‘εξόδου’ από το πρόγραμμα). 

## Exercise 1
Ένας  πίνακας  Α(NxN)  λέγεται  αυστηρά  διαγώνια  δεσπόζων  (strictly  diagonally  dominant) εάν για κάθε γραμμή του πίνακα του Α ισχύει: 

`|aii| > Σ|aij|, for j=0,j!=i to N-1, i = 0...N-1`

Σας ζητείται να γράψετε και να τρέξετε ένα MPI πρόγραμμα σε C (θεωρώντας ένα παράλληλο  περιβάλλον  p  επεξεργαστών),  το  οποίο  δοθέντος  ενός  δισδιάστατου πίνακα Α(ΝxN): 

**Α.** Θα ελέγχει αρχικά με παράλληλο τρόπο αν ο πίνακας Α είναι αυστηρά διαγώνια δεσπόζων (ο επεξεργαστής ‘0’ θα πρέπει να διαβάζει από την οθόνη τον πίνακα Α και στο τέλος να τυπώνει το αποτέλεσμα – ‘yes’ ή ‘no’).  

**Β.**  Στην  περίπτωση  που  αυτό  ισχύει  (είναι  δηλ.  ο  πίνακας  Α  αυστηρά  διαγώνια δεσπόζων)  το  πρόγραμμα  θα  πρέπει  στη  συνέχεια  να  υπολογίζει  παράλληλα  το μέγιστο κατ’ απόλυτη τιμή στοιχείο της διαγωνίου του πίνακα Α (*m=max(|Aii|*). 

**Γ.** Kαι ακολούθως με βάση αυτό (*m*) να φτιάχνει παράλληλα ένα νέο πίνακα Β ΝxN (τον οποίον θα τυπώνει επίσης ο '0' στο τέλος στην οθόνη) όπου:  

`Bij = m – |Aij|  για i<>j  και  Bij = m για i=j`

**Δ.** Για τον παραπάνω πίνακα Β ζητείται επίσης να υπολογιστεί παράλληλα (και να τυπώνεται στο τέλος από τον ‘0’ επίσης στην οθόνη) το ελάχιστο σε τιμή στοιχείο του, καθώς και σε ποιά θέση (i,j) του πίνακα Β βρίσκεται.  

Θεωρείστε  ότι  το  ‘N’  είναι  ακέραιο  πολλαπλάσιο  του  ‘p’.  Χρησιμοποιήστε  στο πρόγραμμά σας **μόνο συναρτήσεις συλλογικής επικοινωνίας**.  

Το σύνολο του απαιτούμενου υπολογιστικού φόρτου θα πρέπει να ισοκατανεμηθεί κατά  το  δυνατόν  στους  ‘p’  επεξεργαστές  του  παράλληλου  περιβάλλοντός  σας. Επίσης, κάθε επεξεργαστής θα πρέπει να λαμβάνει (κατέχει) στην τοπική του μνήμη μόνο τα δεδομένα εισόδου που χρησιμοποιεί για τοπικούς (δικούς του) υπολογισμούς. 
